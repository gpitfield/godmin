<!DOCTYPE html>
<html>
<head>
<!-- Standard Meta -->
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

{{template "admin/bootstrap.html"}}

<!-- Site Properities -->
<title>{{.title}}</title>

</head>
  <body>

    <div class="container">

    {{ template "admin/navbar.html" .}}
    {{ $values := .results}}
    {{ $modelAdmin := .modelAdmin}}
      <div>
        <div class="dropdown" style="display:inline-block;">
          <div class="dropdown-toggle" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Actions<span class="caret"></span></div>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
            <li><a href="#">Action</a></li>
            <li><a href="#">Another action</a></li>
            <li><a href="#">Something else here</a></li>
            <li><a href="#">Separated link</a></li>
          </ul>
        </div>
  
        <table class="table table-striped well">
          <th>
            <input type="checkbox" id="selectAll">
          </th>
          {{range .modelAdmin.ListFields}}
            <th>{{.}}</th>
          {{end}}
          {{range $row := $values}}
            <tr>
              <td><input type="checkbox" class="rowCheck"></td>
              {{range $index, $field := $modelAdmin.ListFields}}
                <td>
                  {{ if eq $index 0}}<a href="{{index $.pks $index}}">{{end}}
                  {{index $row $field}}
                  {{ if eq $index 0}}</a>{{end}}                  
                </td>
              {{end}}
            </tr>
          {{end}}
        </table>
  
      </div>

        <nav>
          <ul class="pagination">
            <li>
              <a href="" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
              </a>
            </li>
            <li><a href="">1</a></li>
            <li><a href="">2</a></li>
            <li><a href="">3</a></li>
            <li><a href="">4</a></li>
            <li><a href="">5</a></li>
            <li>
              <a href="" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
              </a>
            </li>
          </ul>
          (To be implemented.)
        </nav>
    </div> <!-- /container -->
    <script type="text/javascript">
      $(document).ready(function(){
        $("#selectAll").change(function(){
          if ($(this).is(":checked")) {
            $(":checkbox").prop("checked", true);
          } else {
            $(":checkbox").prop("checked", false);            
          }
        });

        $(".rowCheck").change(function(){
          if (! $(this).is(":checked")) {
            $("#selectAll").prop("checked", false);            
          }
        });


      });
    </script>
  </body>
  </html>